localStorage.getItem("alphaVantageKey");const o="https://www.alphavantage.co/query",c=async a=>{try{const t=localStorage.getItem("alphaVantageKey")||"demo",e=await(await fetch(`${o}?function=GLOBAL_QUOTE&symbol=${a}&apikey=${t}`)).json();return e["Global Quote"]&&e["Global Quote"]["05. price"]?{success:!0,price:parseFloat(e["Global Quote"]["05. price"]),change:parseFloat(e["Global Quote"]["09. change"]),changePercent:e["Global Quote"]["10. change percent"]}:{success:!0,price:Math.random()*200+50,change:(Math.random()-.5)*10,changePercent:`${(Math.random()-.5)*5}%`,mock:!0}}catch(t){return console.error("Error fetching stock quote:",t),{success:!0,price:Math.random()*200+50,change:(Math.random()-.5)*10,changePercent:`${(Math.random()-.5)*5}%`,mock:!0}}},n=a=>{localStorage.setItem("alphaVantageKey",a)},s=()=>localStorage.getItem("alphaVantageKey");export{c as a,s as g,n as s};
