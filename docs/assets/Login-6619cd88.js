import{u as y,a as g,r as w,b as n,c as b,o as i,d,e,w as _,f as u,v as p,t as m,g as h,h as V,i as k,j as N}from"./index-7cc314ad.js";const S={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},j={class:"max-w-md w-full space-y-8"},B={class:"rounded-md shadow-sm -space-y-px"},C={key:0,class:"text-danger text-sm text-center"},q=["disabled"],D={class:"text-center"},T={__name:"Login",setup(L){const c=y(),f=g(),t=w({email:"",password:""}),r=n(!1),o=n(""),x=async()=>{r.value=!0,o.value="";const a=await c.login(t.email,t.password);a.success?f.push("/"):o.value=a.error,r.value=!1};return(a,s)=>{const v=b("router-link");return i(),d("div",S,[e("div",j,[s[5]||(s[5]=e("div",null,[e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," 登录账户 "),e("p",{class:"mt-2 text-center text-sm text-gray-600"}," 美股持仓成本计算器 ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:_(x,["prevent"])},[e("div",B,[e("div",null,[s[2]||(s[2]=e("label",{for:"email",class:"sr-only"},"邮箱地址",-1)),u(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=l=>t.email=l),type:"email",required:"",class:"form-input rounded-t-md",placeholder:"邮箱地址"},null,512),[[p,t.email]])]),e("div",null,[s[3]||(s[3]=e("label",{for:"password",class:"sr-only"},"密码",-1)),u(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=l=>t.password=l),type:"password",required:"",class:"form-input rounded-b-md",placeholder:"密码"},null,512),[[p,t.password]])])]),o.value?(i(),d("div",C,m(o.value),1)):h("",!0),e("div",null,[e("button",{type:"submit",disabled:r.value,class:"btn-primary w-full flex justify-center py-2 px-4 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},m(r.value?"登录中...":"登录"),9,q)]),e("div",D,[V(v,{to:"/register",class:"text-primary-600 hover:text-primary-500 text-sm"},{default:k(()=>[...s[4]||(s[4]=[N(" 还没有账户？立即注册 ",-1)])]),_:1})])],32)])])}}};export{T as default};
