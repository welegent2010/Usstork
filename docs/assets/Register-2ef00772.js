import{u as y,a as g,r as b,b as i,k as h,c as _,o as u,d as p,e,w as V,f as n,v as d,t as m,g as k,h as P,i as N,j as S}from"./index-7cc314ad.js";const j={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},q={class:"max-w-md w-full space-y-8"},B={class:"rounded-md shadow-sm -space-y-px"},C={key:0,class:"text-danger text-sm text-center"},M=["disabled"],R={class:"text-center"},T={__name:"Register",setup(U){const c=y(),f=g(),t=b({email:"",password:"",confirmPassword:""}),a=i(!1),r=i(""),v=h(()=>t.password===t.confirmPassword),x=async()=>{if(!v.value){r.value="两次输入的密码不一致";return}if(t.password.length<6){r.value="密码长度至少为6位";return}a.value=!0,r.value="";const l=await c.register(t.email,t.password);l.success?f.push("/"):r.value=l.error,a.value=!1};return(l,s)=>{const w=_("router-link");return u(),p("div",j,[e("div",q,[s[7]||(s[7]=e("div",null,[e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," 创建账户 "),e("p",{class:"mt-2 text-center text-sm text-gray-600"}," 开始管理您的美股投资组合 ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:V(x,["prevent"])},[e("div",B,[e("div",null,[s[3]||(s[3]=e("label",{for:"email",class:"sr-only"},"邮箱地址",-1)),n(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.email=o),type:"email",required:"",class:"form-input rounded-t-md",placeholder:"邮箱地址"},null,512),[[d,t.email]])]),e("div",null,[s[4]||(s[4]=e("label",{for:"password",class:"sr-only"},"密码",-1)),n(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>t.password=o),type:"password",required:"",class:"form-input",placeholder:"密码（至少6位）"},null,512),[[d,t.password]])]),e("div",null,[s[5]||(s[5]=e("label",{for:"confirmPassword",class:"sr-only"},"确认密码",-1)),n(e("input",{id:"confirmPassword","onUpdate:modelValue":s[2]||(s[2]=o=>t.confirmPassword=o),type:"password",required:"",class:"form-input rounded-b-md",placeholder:"确认密码"},null,512),[[d,t.confirmPassword]])])]),r.value?(u(),p("div",C,m(r.value),1)):k("",!0),e("div",null,[e("button",{type:"submit",disabled:a.value,class:"btn-success w-full flex justify-center py-2 px-4 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-success-500 disabled:opacity-50"},m(a.value?"注册中...":"注册"),9,M)]),e("div",R,[P(w,{to:"/login",class:"text-primary-600 hover:text-primary-500 text-sm"},{default:N(()=>[...s[6]||(s[6]=[S(" 已有账户？立即登录 ",-1)])]),_:1})])],32)])])}}};export{T as default};
